# GLITCHLAB configuration overrides
# Values here are merged on top of built-in defaults.

boundaries:
  protected_paths:
    - "crates/kernel"
    - ".github"
    - ".githooks"
    - "CLAUDE.md"
    - ".glitchlab/config.yaml"

limits:
  max_tool_turns: 15
  max_tokens_per_task: 120000
  max_dollars_per_task: 0.50

routing:
  # Static fallbacks
  planner: "gemini/gemini-2.5-flash"
  implementer: "anthropic/claude-sonnet-4-20250514"
  debugger: "anthropic/claude-sonnet-4-20250514"
  security: "gemini/gemini-2.5-flash"
  release: "gemini/gemini-2.5-flash"
  archivist: "gemini/gemini-2.5-flash"

  # Model pool for cost-aware chooser
  models:
    - model: "gemini/gemini-2.5-flash-lite"
      tier: economy
      capabilities: [tool_use, code]
    - model: "gemini/gemini-2.5-flash"
      tier: standard
      capabilities: [tool_use, code, long_context]
    - model: "anthropic/claude-sonnet-4-20250514"
      tier: premium
      capabilities: [tool_use, code, long_context, vision]

  roles:
    planner:
      min_tier: standard
    implementer:
      min_tier: premium
      requires: [tool_use]
    debugger:
      min_tier: standard
      requires: [tool_use]
    security:
      min_tier: economy
    release:
      min_tier: economy
    archivist:
      min_tier: economy

  cost_quality_threshold: 0.7

memory:
  beads_enabled: true
  dolt_connection: "mysql://glitchlab:glitchlab@localhost:3306/glitchlab"

providers:
  gemini:
    api_key_env: GEMINI_API_KEY
  anthropic:
    api_key_env: ANTHROPIC_API_KEY
